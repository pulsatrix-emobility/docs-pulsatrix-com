---
title: /v1/transaction
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# 
# <span style={{ display: 'flex', alignItems: 'center' }}>/v1/transaction<span style={{ marginLeft: '10px',marginTop: '5px', backgroundColor: '#62B0FE', color: 'white', padding: '4px', borderRadius: '5px', fontSize: '23px' }}>GET</span></span>

The `transaction` endpoint returns transactional information about the charging session. 

## Values

- `state` State of the charge controller
  - `Idle` - The charge point is not charging.
  - `Charging` - The charge point is charging.
  - `SuspendedEVSE` - The charge point is suspended by the 
  - `SuspendedEV` - The charge point is suspended by the electric vehicle.
  - `Finishing` - The charge point is finishing a transaction.
  - `Reserved` - The charge point is reserved and not available for charging.
  - `Unavailable` - The charge point is not available.
  - `Faulted` - The charge point is in an error state.  

- `startedTime` time when the charge point started charging.  

- `endedTime` time when the charge point stopped charging.  

- `meterStart` value of the energyMeter at the start of the session.

- `meterStop` value of the energyMeter at the end of the session.

- `vehicleStatus` IEC 61851 Status of the EV
  - `A1` - Standby
  - `B1` - Vehicle detected
  - `C1` - Charge request
  - `D1` - Charge & vent request
  - `E1` - Shut off
  - `F1` - Error
  - `S1` - Restart after error status
  - `R1` - Diode fail
  - `B2` - Charging offered
  - `C2`- Charging
  - `D2` - Charging + venting

- `chargeControllerStatus` IEC 61851 Status of the SECC
  - `A` - Disconnected
  - `B` - Connected
  - `C` - Charge request
  - `D` - Charge & ventilation request
  - `E` - Short circuit
  - `F` - Error
  - `S` - Startup / unknown
  - `R` - Diode fail

- `usedPhasesSession` Phases used for charging the EV.

- `startReason` Reason for starting the charging session.
  - `Authorized` - Charging is authorized, by any means. Might be an RFID, or other authorization means.
  - `CablePluggedIn` - Cable is plugged in and EVDetected.
  - `ChargingRateChanged` - Rate of charging changed by more than LimitChangeSignificance.
  - `ChargingStateChanged` - Charging State changed.
  - `Deauthorized` - The transaction was stopped because of the authorization status in the response to a transactionEventRequest.
  - `EnergyLimitReached` - Maximum energy of charging reached. For example: in a pre-paid charging solution.
  - `EVCommunicationLost` - Communication with EV lost, for example: cable disconnected.
  - `EVConnectTimeout` - EV not connected before the connection is timed out.
  - `MeterValueClock` - Needed to send a clock aligned meter value.
  - `MeterValuePeriodic` - Needed to send a periodic meter value.
  - `TimeLimitReached` - Maximum time of charging reached. For example: in a pre-paid charging solution.
  - `Trigger` - Requested by the CSMS via a TriggerMessageRequest.
  - `UnlockCommand` - CSMS sent an Unlock Connector command.
  - `StopAuthorized` - An EV Driver has been authorized to stop charging. For example: By swiping an RFID card.
  - `EVDeparted` - EV departed. For example: When a departing EV triggers a parking bay detector.
  - `EVDetected` - EV detected. For example: When an arriving EV triggers a parking bay detector.
  - `RemoteStop` - A RequestStopTransactionRequest has been sent.
  - `RemoteStart` - A RequestStartTransactionRequest has been sent.
  - `AbnormalCondition` - An Abnormal Error or Fault Condition has occurred.
  - `SignedDataReceived` - Signed data is received from the energy meter.
  - `ResetCommand` - CSMS sent a Reset Charging Station command.

- `stopReason` Reason for stopping the charging session.
  - `DeAuthorized` - The transaction was stopped because of the authorization status in the response to a transactionEventRequest.
  - `EmergencyStop` - Emergency stop button was used.
  - `EnergyLimitReached` - EV charging session reached a locally enforced maximum energy transfer limit
  - `EVDisconnected` - Disconnecting of cable, vehicle moved away from inductive charge unit.
  - `GroundFault` - A GroundFault has occurred
  - `ImmediateReset` - A Reset(Immediate) command was received.
  - `Local` - Stopped locally on request of the EV Driver at the Charging Station. This is a regular termination of a transaction. Examples: presenting an IdToken tag, pressing a button to stop.
  - `LocalOutOfCredit` - A local credit limit enforced through the Charging Station has been exceeded.
  - `MasterPass` - The transaction was stopped using a token with a MasterPassGroupId.
  - `Other` - Any other reason.
  - `OvercurrentFault` - A larger than intended electric current has occurred
  - `PowerLoss` - Complete loss of power.
  - `PowerQuality` - Quality of power too low, e.g. voltage too low/high, phase imbalance, etc.
  - `Reboot` - A locally initiated reset/reboot occurred. (for instance watchdog kicked in)
  - `Remote` - Stopped remotely on request of the CSMS. This is a regular termination of a transaction.
  - `SOCLimitReached` - Electric vehicle has reported reaching a locally enforced maximum battery State of Charge (SOC)
  - `StoppedByEV` - The transaction was stopped by the EV
  - `TimeLimitReached` - EV charging session reached a locally enforced time limit
  - `Timeout` - EV not connected within timeout

- `allocationSourceName` Name of the source currently in controll of the charging session.
  - `OCPP Profile` - The OCPP profile is in controll of the charging session.
  - `API` - The WebSocket or RESTful api is in controll of the charging session.
  - `Transaction` - FIXME: description
  - `MQTT` - The MQTT api is in controll of the charging session.
  - `ProximityPilot` - FIXME: description
  - `Team` - FIXME: description
  - `Unmanaged` - FIXME: description


## Example Request


<Tabs>
  <TabItem value="rest" label="REST" default>
    ``` json title="http://127.0.0.1/api/v1/transaction"
    {
      "state": "IDLE",
      "startedTime": 1699359776,
      "endedTime": 1699359816,
      "meterStart": 0.302999973,
      "meterStop": 0.302999973,
      "vehicleStatus": "A1",
      "chargeControllerStatus": "A",
      "usedPhasesSession": "111",
      "startReason": "Authorized",
      "stopReason": "DeAuthorized",
      "allocationSourceName": "OCPP Profile"
    }
    `````
  </TabItem>
  <TabItem value="ws" label="WebSocket">
    ```json title="ws://127.0.0.1:80/api/ws"
    Topic: transaction

    {"state":"IDLE","startedTime":1699359776,"endedTime":1699359816,"meterStart":0.302999973,"meterStop":0.302999973,"vehicleStatus":"A","chargeControllerStatus":"A1","usedPhasesSession":"111","startReason":"Authorized","stopReason":"DeAuthorized","allocationSourceName":"OCPP Profile"}
    ```
  </TabItem>
</Tabs>
